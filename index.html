<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Smile Training</title>

<style>
html,body{
  margin:0;
  padding:0;
  background:#0b0c10;
  overflow:hidden;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
  color:#eee;
}
video,canvas{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
}
#ui{
  position:absolute;
  bottom:24px;
  width:100%;
  text-align:center;
  pointer-events:none;
}
#text{
  font-size:16px;
  opacity:0;
  transition:opacity .3s ease;
}
#langToggle{
  position:absolute;
  top:14px;
  right:14px;
  opacity:.4;
  pointer-events:auto;
}
#langPanel{
  position:absolute;
  top:48px;
  right:14px;
  background:rgba(20,20,24,.9);
  border-radius:10px;
  padding:8px;
  display:none;
}
select{
  background:#111;
  color:#eee;
  border:none;
  padding:6px;
  border-radius:6px;
}
</style>
</head>

<body>

<video id="video" autoplay muted playsinline></video>
<canvas id="canvas"></canvas>

<div id="langToggle">üåê</div>
<div id="langPanel">
  <select id="lang">
    <option value="ru">–†—É—Å—Å–∫–∏–π</option>
    <option value="en">English</option>
    <option value="pt">Portugu√™s</option>
  </select>
</div>

<div id="ui"><div id="text"></div></div>

<script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>

<script>
/* ================= Localization ================= */
const TEXT = {
  ru: "–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —É–ª—ã–±–∫–∞",
  en: "Natural smile",
  pt: "Sorriso natural"
};
let lang="ru";

/* ================= Smile Logic ================= */
class SmileAnalyzer{
  constructor(){
    this.base=nu
